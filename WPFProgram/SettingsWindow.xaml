<Window x:Class="StarSaviorAssistant.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="설정" Height="400" Width="400"
        WindowStyle="None" ResizeMode="NoResize" 
        AllowsTransparency="True" Background="Transparent"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        WindowStartupLocation="CenterOwner">

    <Border Background="{DynamicResource CardBackground}" CornerRadius="15" BorderBrush="{DynamicResource MainBorder}" BorderThickness="1">
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Text="⚙️ 애플리케이션 설정" Foreground="{DynamicResource MainForeground}" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

            <StackPanel Grid.Row="1" Margin="0,0,0,20">
                <TextBlock Text="기본 검색 엔진" Foreground="{DynamicResource MainForeground}" FontWeight="SemiBold" Margin="0,0,0,5"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock x:Name="TxtSelectedEngine" 
                               Text="현재 선택된 엔진 없음" 
                               Foreground="{DynamicResource SubText}" VerticalAlignment="Center"/>

                    <Button Grid.Column="1" Content="선택..." 
                            Width="70" Height="25" Click="SelectEngine_Click" />
                </Grid>
            </StackPanel>

            <StackPanel Grid.Row="2" Margin="0,0,0,20">
                <TextBlock Text="테마 선택" Foreground="{DynamicResource MainForeground}" FontWeight="SemiBold" Margin="0,0,0,5"/>
                <ComboBox x:Name="CmbThemeSelector" 
                          SelectionChanged="CmbThemeSelector_SelectionChanged"
                          BorderThickness="1"
                          Padding="10,5">
                    <ComboBoxItem Content="기본 (Light)" Tag="Light"/>
                    <ComboBoxItem Content="다크모드 (Dark)" Tag="Dark"/>
                    <ComboBoxItem Content="파랑 테마 (Blue)" Tag="Blue"/>
                    <ComboBoxItem Content="보라 테마 (Purple)" Tag="Purple"/>
                </ComboBox>
            </StackPanel>

            <StackPanel Grid.Row="3" VerticalAlignment="Top" Margin="0,15,0,0">
                <CheckBox x:Name="ChkTopMost" 
                          Content="화면 최상단에 고정 (TopMost)" 
                          Foreground="{DynamicResource MainForeground}" Checked="TopMost_Checked" Unchecked="TopMost_Unchecked">
                </CheckBox>
                <TextBlock Text="다른 창 위에 항상 표시되도록 설정합니다."
                           Foreground="{DynamicResource SubText}" FontSize="11" Margin="20,5,0,0"/>
            </StackPanel>

            <Button Grid.Row="4" Content="닫기" Height="35" 
                    Margin="0,20,0,0" Click="Close_Click" 
                    Foreground="{DynamicResource MainForeground}" FontWeight="Bold"/>

        </Grid>
    </Border>
</Window>